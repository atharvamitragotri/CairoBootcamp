{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RpcProvider = void 0;\nvar fetchPonyfill_1 = __importDefault(require(\"../utils/fetchPonyfill\"));\nvar hash_1 = require(\"../utils/hash\");\nvar json_1 = require(\"../utils/json\");\nvar number_1 = require(\"../utils/number\");\nvar provider_1 = require(\"../utils/provider\");\nvar rpc_1 = require(\"../utils/responseParser/rpc\");\nvar stark_1 = require(\"../utils/stark\");\nvar utils_1 = require(\"./utils\");\nvar RpcProvider = /** @class */function () {\n  function RpcProvider(optionsOrProvider) {\n    var _this = this;\n    this.responseParser = new rpc_1.RPCResponseParser();\n    var nodeUrl = optionsOrProvider.nodeUrl,\n      retries = optionsOrProvider.retries;\n    this.nodeUrl = nodeUrl;\n    this.retries = retries || 200;\n    this.getChainId().then(function (chainId) {\n      _this.chainId = chainId;\n    });\n  }\n  RpcProvider.prototype.fetch = function (method, params) {\n    return (0, fetchPonyfill_1.default)(this.nodeUrl, {\n      method: 'POST',\n      body: (0, json_1.stringify)({\n        method: method,\n        jsonrpc: '2.0',\n        params: params,\n        id: 0\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  };\n  RpcProvider.prototype.errorHandler = function (error) {\n    if (error) {\n      var code = error.code,\n        message = error.message;\n      throw new Error(\"\".concat(code, \": \").concat(message));\n    }\n  };\n  RpcProvider.prototype.fetchEndpoint = function (method, params) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function () {\n      var rawResult, _b, error, result, error_1;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            _c.trys.push([0, 3,, 4]);\n            return [4 /*yield*/, this.fetch(method, params)];\n          case 1:\n            rawResult = _c.sent();\n            return [4 /*yield*/, rawResult.json()];\n          case 2:\n            _b = _c.sent(), error = _b.error, result = _b.result;\n            this.errorHandler(error);\n            return [2 /*return*/, result];\n          case 3:\n            error_1 = _c.sent();\n            this.errorHandler((_a = error_1 === null || error_1 === void 0 ? void 0 : error_1.response) === null || _a === void 0 ? void 0 : _a.data);\n            throw error_1;\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  // Methods from Interface\n  RpcProvider.prototype.getChainId = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_chainId')];\n      });\n    });\n  };\n  // Methods from Interface\n  RpcProvider.prototype.getBlock = function (blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.getBlockWithTxHashes(blockIdentifier).then(this.responseParser.parseGetBlockResponse)];\n      });\n    });\n  };\n  RpcProvider.prototype.getBlockHashAndNumber = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_blockHashAndNumber')];\n      });\n    });\n  };\n  RpcProvider.prototype.getBlockWithTxHashes = function (blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getBlockWithTxHashes', {\n          block_id: block_id\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getBlockWithTxs = function (blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getBlockWithTxs', {\n          block_id: block_id\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getClassHashAt = function (blockIdentifier, contractAddress) {\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getClassHashAt', {\n          block_id: block_id,\n          contract_address: contractAddress\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getNonce = function (contractAddress, blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getNonce', {\n          contract_address: contractAddress,\n          block_id: block_id\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getPendingTransactions = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_pendingTransactions')];\n      });\n    });\n  };\n  RpcProvider.prototype.getProtocolVersion = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        throw new Error('Pathfinder does not implement this rpc 0.1.0 method');\n      });\n    });\n  };\n  RpcProvider.prototype.getStateUpdate = function (blockIdentifier) {\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getStateUpdate', {\n          block_id: block_id\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getStorageAt = function (contractAddress, key, blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var parsedKey, block_id;\n      return __generator(this, function (_a) {\n        parsedKey = (0, number_1.toHex)((0, number_1.toBN)(key));\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getStorageAt', {\n          contract_address: contractAddress,\n          key: parsedKey,\n          block_id: block_id\n        })];\n      });\n    });\n  };\n  // Methods from Interface\n  RpcProvider.prototype.getTransaction = function (txHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.getTransactionByHash(txHash).then(this.responseParser.parseGetTransactionResponse)];\n      });\n    });\n  };\n  RpcProvider.prototype.getTransactionByHash = function (txHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionByHash', {\n          transaction_hash: txHash\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getTransactionByBlockIdAndIndex = function (blockIdentifier, index) {\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionByBlockIdAndIndex', {\n          block_id: block_id,\n          index: index\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getTransactionReceipt = function (txHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionReceipt', {\n          transaction_hash: txHash\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getClass = function (classHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_getClass', {\n          class_hash: classHash\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getClassAt = function (contractAddress, blockIdentifier) {\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getClassAt', {\n          block_id: block_id,\n          contract_address: contractAddress\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.getCode = function (_contractAddress, _blockIdentifier) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        throw new Error('RPC 0.1.0 does not implement getCode function');\n      });\n    });\n  };\n  RpcProvider.prototype.getEstimateFee = function (invocation, invocationDetails, blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.getInvokeEstimateFee(invocation, invocationDetails, blockIdentifier)];\n      });\n    });\n  };\n  RpcProvider.prototype.getInvokeEstimateFee = function (invocation, invocationDetails, blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', {\n          request: {\n            type: 'INVOKE',\n            contract_address: invocation.contractAddress,\n            calldata: (0, provider_1.parseCalldata)(invocation.calldata),\n            signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(invocation.signature || []),\n            version: (0, number_1.toHex)((0, number_1.toBN)((invocationDetails === null || invocationDetails === void 0 ? void 0 : invocationDetails.version) || 0)),\n            nonce: (0, number_1.toHex)((0, number_1.toBN)(invocationDetails.nonce)),\n            max_fee: (0, number_1.toHex)((0, number_1.toBN)((invocationDetails === null || invocationDetails === void 0 ? void 0 : invocationDetails.maxFee) || 0))\n          },\n          block_id: block_id\n        }).then(this.responseParser.parseFeeEstimateResponse)];\n      });\n    });\n  };\n  // TODO: Revisit after Pathfinder release with JSON-RPC v0.2.1 RPC Spec\n  RpcProvider.prototype.getDeclareEstimateFee = function (_a, details, blockIdentifier) {\n    var senderAddress = _a.senderAddress,\n      contractDefinition = _a.contractDefinition,\n      signature = _a.signature;\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_b) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', {\n          request: {\n            type: 'DECLARE',\n            contract_class: {\n              program: contractDefinition.program,\n              entry_points_by_type: contractDefinition.entry_points_by_type,\n              abi: contractDefinition.abi // rpc 2.0\n            },\n\n            sender_address: senderAddress,\n            signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(signature || []),\n            version: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.version) || 0)),\n            nonce: (0, number_1.toHex)((0, number_1.toBN)(details.nonce)),\n            max_fee: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.maxFee) || 0))\n          },\n          block_id: block_id\n        }).then(this.responseParser.parseFeeEstimateResponse)];\n      });\n    });\n  };\n  RpcProvider.prototype.getDeployAccountEstimateFee = function (_a, details, blockIdentifier) {\n    var classHash = _a.classHash,\n      constructorCalldata = _a.constructorCalldata,\n      addressSalt = _a.addressSalt,\n      signature = _a.signature;\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_b) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', {\n          request: {\n            type: 'DEPLOY_ACCOUNT',\n            constructor_calldata: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(constructorCalldata || []),\n            class_hash: (0, number_1.toHex)((0, number_1.toBN)(classHash)),\n            contract_address_salt: (0, number_1.toHex)((0, number_1.toBN)(addressSalt || 0)),\n            signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(signature || []),\n            version: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.version) || 0)),\n            nonce: (0, number_1.toHex)((0, number_1.toBN)(details.nonce)),\n            max_fee: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.maxFee) || 0))\n          },\n          block_id: block_id\n        }).then(this.responseParser.parseFeeEstimateResponse)];\n      });\n    });\n  };\n  // TODO: Revisit after Pathfinder release with JSON-RPC v0.2.1 RPC Spec\n  RpcProvider.prototype.declareContract = function (_a, details) {\n    var contractDefinition = _a.contractDefinition,\n      signature = _a.signature,\n      senderAddress = _a.senderAddress;\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_b) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_addDeclareTransaction', {\n          contract_class: {\n            program: contractDefinition.program,\n            entry_points_by_type: contractDefinition.entry_points_by_type,\n            abi: contractDefinition.abi // rpc 2.0\n          },\n\n          version: (0, number_1.toHex)((0, number_1.toBN)(details.version || 0)),\n          max_fee: (0, number_1.toHex)((0, number_1.toBN)(details.maxFee || 0)),\n          signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(signature || []),\n          sender_address: senderAddress,\n          nonce: (0, number_1.toHex)((0, number_1.toBN)(details.nonce))\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.deployContract = function (_a) {\n    var contract = _a.contract,\n      constructorCalldata = _a.constructorCalldata,\n      addressSalt = _a.addressSalt;\n    return __awaiter(this, void 0, void 0, function () {\n      var contractDefinition;\n      return __generator(this, function (_b) {\n        contractDefinition = (0, provider_1.parseContract)(contract);\n        return [2 /*return*/, this.fetchEndpoint('starknet_addDeployTransaction', {\n          contract_address_salt: addressSalt !== null && addressSalt !== void 0 ? addressSalt : (0, stark_1.randomAddress)(),\n          constructor_calldata: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(constructorCalldata !== null && constructorCalldata !== void 0 ? constructorCalldata : []),\n          contract_definition: {\n            program: contractDefinition.program,\n            entry_points_by_type: contractDefinition.entry_points_by_type,\n            abi: contractDefinition.abi // rpc 2.0\n          }\n        })];\n      });\n    });\n  };\n\n  RpcProvider.prototype.deployAccountContract = function (_a) {\n    var classHash = _a.classHash,\n      constructorCalldata = _a.constructorCalldata,\n      addressSalt = _a.addressSalt;\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_b) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_addDeployAccountTransaction', {\n          constructor_calldata: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(constructorCalldata || []),\n          class_hash: (0, number_1.toHex)((0, number_1.toBN)(classHash)),\n          contract_address_salt: (0, number_1.toHex)((0, number_1.toBN)(addressSalt || 0))\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.invokeFunction = function (functionInvocation, details) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_addInvokeTransaction', {\n          function_invocation: {\n            contract_address: functionInvocation.contractAddress,\n            calldata: (0, provider_1.parseCalldata)(functionInvocation.calldata)\n          },\n          signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(functionInvocation.signature || []),\n          max_fee: (0, number_1.toHex)((0, number_1.toBN)(details.maxFee || 0)),\n          version: (0, number_1.toHex)((0, number_1.toBN)(details.version || 0))\n        })];\n      });\n    });\n  };\n  // Methods from Interface\n  RpcProvider.prototype.callContract = function (call, blockIdentifier) {\n    if (blockIdentifier === void 0) {\n      blockIdentifier = 'pending';\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id, result;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            block_id = new utils_1.Block(blockIdentifier).identifier;\n            return [4 /*yield*/, this.fetchEndpoint('starknet_call', {\n              request: {\n                contract_address: call.contractAddress,\n                entry_point_selector: (0, hash_1.getSelectorFromName)(call.entrypoint),\n                calldata: (0, provider_1.parseCalldata)(call.calldata)\n              },\n              block_id: block_id\n            })];\n          case 1:\n            result = _a.sent();\n            return [2 /*return*/, this.responseParser.parseCallContractResponse(result)];\n        }\n      });\n    });\n  };\n  RpcProvider.prototype.traceTransaction = function (transactionHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_traceTransaction', {\n          transaction_hash: transactionHash\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.traceBlockTransactions = function (blockHash) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_traceBlockTransactions', {\n          block_hash: blockHash\n        })];\n      });\n    });\n  };\n  RpcProvider.prototype.waitForTransaction = function (txHash, retryInterval) {\n    if (retryInterval === void 0) {\n      retryInterval = 8000;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n      var retries, onchain, successStates, errorStates, res, message, error, error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            retries = this.retries;\n            onchain = false;\n            _a.label = 1;\n          case 1:\n            if (!!onchain) return [3 /*break*/, 7];\n            successStates = ['ACCEPTED_ON_L1', 'ACCEPTED_ON_L2', 'PENDING'];\n            errorStates = ['REJECTED', 'NOT_RECEIVED'];\n            // eslint-disable-next-line no-await-in-loop\n            return [4 /*yield*/, (0, provider_1.wait)(retryInterval)];\n          case 2:\n            // eslint-disable-next-line no-await-in-loop\n            _a.sent();\n            _a.label = 3;\n          case 3:\n            _a.trys.push([3, 5,, 6]);\n            return [4 /*yield*/, this.getTransactionReceipt(txHash)];\n          case 4:\n            res = _a.sent();\n            if (res.status && successStates.includes(res.status)) {\n              onchain = true;\n            } else if (res.status && errorStates.includes(res.status)) {\n              message = res.status;\n              error = new Error(message);\n              error.response = res;\n              throw error;\n            }\n            return [3 /*break*/, 6];\n          case 5:\n            error_2 = _a.sent();\n            if (error_2 instanceof Error && errorStates.includes(error_2.message)) {\n              throw error_2;\n            }\n            if (retries === 0) {\n              throw new Error('waitForTransaction timedout with retries');\n            }\n            return [3 /*break*/, 6];\n          case 6:\n            retries -= 1;\n            return [3 /*break*/, 1];\n          case 7:\n            return [4 /*yield*/, (0, provider_1.wait)(retryInterval)];\n          case 8:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n  /**\n   * Gets the transaction count from a block.\n   *\n   *\n   * @param blockIdentifier\n   * @returns Number of transactions\n   */\n  RpcProvider.prototype.getTransactionCount = function (blockIdentifier) {\n    return __awaiter(this, void 0, void 0, function () {\n      var block_id;\n      return __generator(this, function (_a) {\n        block_id = new utils_1.Block(blockIdentifier).identifier;\n        return [2 /*return*/, this.fetchEndpoint('starknet_getBlockTransactionCount', {\n          block_id: block_id\n        })];\n      });\n    });\n  };\n  /**\n   * Gets the latest block number\n   *\n   *\n   * @returns Number of the latest block\n   */\n  RpcProvider.prototype.getBlockNumber = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_blockNumber')];\n      });\n    });\n  };\n  /**\n   * Gets syncing status of the node\n   *\n   *\n   * @returns Object with the stats data\n   */\n  RpcProvider.prototype.getSyncingStats = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_syncing')];\n      });\n    });\n  };\n  /**\n   * Gets all the events filtered\n   *\n   *\n   * @returns events and the pagination of the events\n   */\n  RpcProvider.prototype.getEvents = function (eventFilter) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, this.fetchEndpoint('starknet_getEvents', {\n          filter: eventFilter\n        })];\n      });\n    });\n  };\n  return RpcProvider;\n}();\nexports.RpcProvider = RpcProvider;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__importDefault","mod","__esModule","Object","defineProperty","exports","RpcProvider","fetchPonyfill_1","require","hash_1","json_1","number_1","provider_1","rpc_1","stark_1","utils_1","optionsOrProvider","_this","responseParser","RPCResponseParser","nodeUrl","retries","getChainId","chainId","prototype","fetch","method","params","default","stringify","jsonrpc","id","headers","errorHandler","error","code","message","Error","concat","fetchEndpoint","_a","rawResult","_b","error_1","_c","json","response","data","getBlock","blockIdentifier","getBlockWithTxHashes","parseGetBlockResponse","getBlockHashAndNumber","block_id","Block","identifier","getBlockWithTxs","getClassHashAt","contractAddress","contract_address","getNonce","getPendingTransactions","getProtocolVersion","getStateUpdate","getStorageAt","key","parsedKey","toHex","toBN","getTransaction","txHash","getTransactionByHash","parseGetTransactionResponse","transaction_hash","getTransactionByBlockIdAndIndex","index","getTransactionReceipt","getClass","classHash","class_hash","getClassAt","getCode","_contractAddress","_blockIdentifier","getEstimateFee","invocation","invocationDetails","getInvokeEstimateFee","request","type","calldata","parseCalldata","signature","bigNumberishArrayToHexadecimalStringArray","version","nonce","max_fee","maxFee","parseFeeEstimateResponse","getDeclareEstimateFee","details","senderAddress","contractDefinition","contract_class","program","entry_points_by_type","abi","sender_address","getDeployAccountEstimateFee","constructorCalldata","addressSalt","constructor_calldata","contract_address_salt","declareContract","deployContract","contract","parseContract","randomAddress","contract_definition","deployAccountContract","invokeFunction","functionInvocation","function_invocation","callContract","entry_point_selector","getSelectorFromName","entrypoint","parseCallContractResponse","traceTransaction","transactionHash","traceBlockTransactions","blockHash","block_hash","waitForTransaction","retryInterval","onchain","successStates","errorStates","res","error_2","wait","status","includes","getTransactionCount","getBlockNumber","getSyncingStats","getEvents","eventFilter","filter"],"sources":["C:/Users/admin/Documents/Blockchain test/CairoBootcamp/starknet_js_demo/node_modules/starknet/dist/provider/rpc.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RpcProvider = void 0;\nvar fetchPonyfill_1 = __importDefault(require(\"../utils/fetchPonyfill\"));\nvar hash_1 = require(\"../utils/hash\");\nvar json_1 = require(\"../utils/json\");\nvar number_1 = require(\"../utils/number\");\nvar provider_1 = require(\"../utils/provider\");\nvar rpc_1 = require(\"../utils/responseParser/rpc\");\nvar stark_1 = require(\"../utils/stark\");\nvar utils_1 = require(\"./utils\");\nvar RpcProvider = /** @class */ (function () {\n    function RpcProvider(optionsOrProvider) {\n        var _this = this;\n        this.responseParser = new rpc_1.RPCResponseParser();\n        var nodeUrl = optionsOrProvider.nodeUrl, retries = optionsOrProvider.retries;\n        this.nodeUrl = nodeUrl;\n        this.retries = retries || 200;\n        this.getChainId().then(function (chainId) {\n            _this.chainId = chainId;\n        });\n    }\n    RpcProvider.prototype.fetch = function (method, params) {\n        return (0, fetchPonyfill_1.default)(this.nodeUrl, {\n            method: 'POST',\n            body: (0, json_1.stringify)({ method: method, jsonrpc: '2.0', params: params, id: 0 }),\n            headers: { 'Content-Type': 'application/json' },\n        });\n    };\n    RpcProvider.prototype.errorHandler = function (error) {\n        if (error) {\n            var code = error.code, message = error.message;\n            throw new Error(\"\".concat(code, \": \").concat(message));\n        }\n    };\n    RpcProvider.prototype.fetchEndpoint = function (method, params) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var rawResult, _b, error, result, error_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _c.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.fetch(method, params)];\n                    case 1:\n                        rawResult = _c.sent();\n                        return [4 /*yield*/, rawResult.json()];\n                    case 2:\n                        _b = _c.sent(), error = _b.error, result = _b.result;\n                        this.errorHandler(error);\n                        return [2 /*return*/, result];\n                    case 3:\n                        error_1 = _c.sent();\n                        this.errorHandler((_a = error_1 === null || error_1 === void 0 ? void 0 : error_1.response) === null || _a === void 0 ? void 0 : _a.data);\n                        throw error_1;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // Methods from Interface\n    RpcProvider.prototype.getChainId = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_chainId')];\n            });\n        });\n    };\n    // Methods from Interface\n    RpcProvider.prototype.getBlock = function (blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.getBlockWithTxHashes(blockIdentifier).then(this.responseParser.parseGetBlockResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.getBlockHashAndNumber = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_blockHashAndNumber')];\n            });\n        });\n    };\n    RpcProvider.prototype.getBlockWithTxHashes = function (blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getBlockWithTxHashes', { block_id: block_id })];\n            });\n        });\n    };\n    RpcProvider.prototype.getBlockWithTxs = function (blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getBlockWithTxs', { block_id: block_id })];\n            });\n        });\n    };\n    RpcProvider.prototype.getClassHashAt = function (blockIdentifier, contractAddress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getClassHashAt', {\n                        block_id: block_id,\n                        contract_address: contractAddress,\n                    })];\n            });\n        });\n    };\n    RpcProvider.prototype.getNonce = function (contractAddress, blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getNonce', {\n                        contract_address: contractAddress,\n                        block_id: block_id,\n                    })];\n            });\n        });\n    };\n    RpcProvider.prototype.getPendingTransactions = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_pendingTransactions')];\n            });\n        });\n    };\n    RpcProvider.prototype.getProtocolVersion = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new Error('Pathfinder does not implement this rpc 0.1.0 method');\n            });\n        });\n    };\n    RpcProvider.prototype.getStateUpdate = function (blockIdentifier) {\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getStateUpdate', { block_id: block_id })];\n            });\n        });\n    };\n    RpcProvider.prototype.getStorageAt = function (contractAddress, key, blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var parsedKey, block_id;\n            return __generator(this, function (_a) {\n                parsedKey = (0, number_1.toHex)((0, number_1.toBN)(key));\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getStorageAt', {\n                        contract_address: contractAddress,\n                        key: parsedKey,\n                        block_id: block_id,\n                    })];\n            });\n        });\n    };\n    // Methods from Interface\n    RpcProvider.prototype.getTransaction = function (txHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.getTransactionByHash(txHash).then(this.responseParser.parseGetTransactionResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.getTransactionByHash = function (txHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionByHash', { transaction_hash: txHash })];\n            });\n        });\n    };\n    RpcProvider.prototype.getTransactionByBlockIdAndIndex = function (blockIdentifier, index) {\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionByBlockIdAndIndex', { block_id: block_id, index: index })];\n            });\n        });\n    };\n    RpcProvider.prototype.getTransactionReceipt = function (txHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getTransactionReceipt', { transaction_hash: txHash })];\n            });\n        });\n    };\n    RpcProvider.prototype.getClass = function (classHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getClass', { class_hash: classHash })];\n            });\n        });\n    };\n    RpcProvider.prototype.getClassAt = function (contractAddress, blockIdentifier) {\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getClassAt', {\n                        block_id: block_id,\n                        contract_address: contractAddress,\n                    })];\n            });\n        });\n    };\n    RpcProvider.prototype.getCode = function (_contractAddress, _blockIdentifier) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                throw new Error('RPC 0.1.0 does not implement getCode function');\n            });\n        });\n    };\n    RpcProvider.prototype.getEstimateFee = function (invocation, invocationDetails, blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.getInvokeEstimateFee(invocation, invocationDetails, blockIdentifier)];\n            });\n        });\n    };\n    RpcProvider.prototype.getInvokeEstimateFee = function (invocation, invocationDetails, blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', {\n                        request: {\n                            type: 'INVOKE',\n                            contract_address: invocation.contractAddress,\n                            calldata: (0, provider_1.parseCalldata)(invocation.calldata),\n                            signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(invocation.signature || []),\n                            version: (0, number_1.toHex)((0, number_1.toBN)((invocationDetails === null || invocationDetails === void 0 ? void 0 : invocationDetails.version) || 0)),\n                            nonce: (0, number_1.toHex)((0, number_1.toBN)(invocationDetails.nonce)),\n                            max_fee: (0, number_1.toHex)((0, number_1.toBN)((invocationDetails === null || invocationDetails === void 0 ? void 0 : invocationDetails.maxFee) || 0)),\n                        },\n                        block_id: block_id,\n                    }).then(this.responseParser.parseFeeEstimateResponse)];\n            });\n        });\n    };\n    // TODO: Revisit after Pathfinder release with JSON-RPC v0.2.1 RPC Spec\n    RpcProvider.prototype.getDeclareEstimateFee = function (_a, details, blockIdentifier) {\n        var senderAddress = _a.senderAddress, contractDefinition = _a.contractDefinition, signature = _a.signature;\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_b) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', {\n                        request: {\n                            type: 'DECLARE',\n                            contract_class: {\n                                program: contractDefinition.program,\n                                entry_points_by_type: contractDefinition.entry_points_by_type,\n                                abi: contractDefinition.abi, // rpc 2.0\n                            },\n                            sender_address: senderAddress,\n                            signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(signature || []),\n                            version: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.version) || 0)),\n                            nonce: (0, number_1.toHex)((0, number_1.toBN)(details.nonce)),\n                            max_fee: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.maxFee) || 0)),\n                        },\n                        block_id: block_id,\n                    }).then(this.responseParser.parseFeeEstimateResponse)];\n            });\n        });\n    };\n    RpcProvider.prototype.getDeployAccountEstimateFee = function (_a, details, blockIdentifier) {\n        var classHash = _a.classHash, constructorCalldata = _a.constructorCalldata, addressSalt = _a.addressSalt, signature = _a.signature;\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_b) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_estimateFee', {\n                        request: {\n                            type: 'DEPLOY_ACCOUNT',\n                            constructor_calldata: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(constructorCalldata || []),\n                            class_hash: (0, number_1.toHex)((0, number_1.toBN)(classHash)),\n                            contract_address_salt: (0, number_1.toHex)((0, number_1.toBN)(addressSalt || 0)),\n                            signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(signature || []),\n                            version: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.version) || 0)),\n                            nonce: (0, number_1.toHex)((0, number_1.toBN)(details.nonce)),\n                            max_fee: (0, number_1.toHex)((0, number_1.toBN)((details === null || details === void 0 ? void 0 : details.maxFee) || 0)),\n                        },\n                        block_id: block_id,\n                    }).then(this.responseParser.parseFeeEstimateResponse)];\n            });\n        });\n    };\n    // TODO: Revisit after Pathfinder release with JSON-RPC v0.2.1 RPC Spec\n    RpcProvider.prototype.declareContract = function (_a, details) {\n        var contractDefinition = _a.contractDefinition, signature = _a.signature, senderAddress = _a.senderAddress;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_addDeclareTransaction', {\n                        contract_class: {\n                            program: contractDefinition.program,\n                            entry_points_by_type: contractDefinition.entry_points_by_type,\n                            abi: contractDefinition.abi, // rpc 2.0\n                        },\n                        version: (0, number_1.toHex)((0, number_1.toBN)(details.version || 0)),\n                        max_fee: (0, number_1.toHex)((0, number_1.toBN)(details.maxFee || 0)),\n                        signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(signature || []),\n                        sender_address: senderAddress,\n                        nonce: (0, number_1.toHex)((0, number_1.toBN)(details.nonce)),\n                    })];\n            });\n        });\n    };\n    RpcProvider.prototype.deployContract = function (_a) {\n        var contract = _a.contract, constructorCalldata = _a.constructorCalldata, addressSalt = _a.addressSalt;\n        return __awaiter(this, void 0, void 0, function () {\n            var contractDefinition;\n            return __generator(this, function (_b) {\n                contractDefinition = (0, provider_1.parseContract)(contract);\n                return [2 /*return*/, this.fetchEndpoint('starknet_addDeployTransaction', {\n                        contract_address_salt: addressSalt !== null && addressSalt !== void 0 ? addressSalt : (0, stark_1.randomAddress)(),\n                        constructor_calldata: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(constructorCalldata !== null && constructorCalldata !== void 0 ? constructorCalldata : []),\n                        contract_definition: {\n                            program: contractDefinition.program,\n                            entry_points_by_type: contractDefinition.entry_points_by_type,\n                            abi: contractDefinition.abi, // rpc 2.0\n                        },\n                    })];\n            });\n        });\n    };\n    RpcProvider.prototype.deployAccountContract = function (_a) {\n        var classHash = _a.classHash, constructorCalldata = _a.constructorCalldata, addressSalt = _a.addressSalt;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_addDeployAccountTransaction', {\n                        constructor_calldata: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(constructorCalldata || []),\n                        class_hash: (0, number_1.toHex)((0, number_1.toBN)(classHash)),\n                        contract_address_salt: (0, number_1.toHex)((0, number_1.toBN)(addressSalt || 0)),\n                    })];\n            });\n        });\n    };\n    RpcProvider.prototype.invokeFunction = function (functionInvocation, details) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_addInvokeTransaction', {\n                        function_invocation: {\n                            contract_address: functionInvocation.contractAddress,\n                            calldata: (0, provider_1.parseCalldata)(functionInvocation.calldata),\n                        },\n                        signature: (0, number_1.bigNumberishArrayToHexadecimalStringArray)(functionInvocation.signature || []),\n                        max_fee: (0, number_1.toHex)((0, number_1.toBN)(details.maxFee || 0)),\n                        version: (0, number_1.toHex)((0, number_1.toBN)(details.version || 0)),\n                    })];\n            });\n        });\n    };\n    // Methods from Interface\n    RpcProvider.prototype.callContract = function (call, blockIdentifier) {\n        if (blockIdentifier === void 0) { blockIdentifier = 'pending'; }\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        block_id = new utils_1.Block(blockIdentifier).identifier;\n                        return [4 /*yield*/, this.fetchEndpoint('starknet_call', {\n                                request: {\n                                    contract_address: call.contractAddress,\n                                    entry_point_selector: (0, hash_1.getSelectorFromName)(call.entrypoint),\n                                    calldata: (0, provider_1.parseCalldata)(call.calldata),\n                                },\n                                block_id: block_id,\n                            })];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, this.responseParser.parseCallContractResponse(result)];\n                }\n            });\n        });\n    };\n    RpcProvider.prototype.traceTransaction = function (transactionHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_traceTransaction', { transaction_hash: transactionHash })];\n            });\n        });\n    };\n    RpcProvider.prototype.traceBlockTransactions = function (blockHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_traceBlockTransactions', { block_hash: blockHash })];\n            });\n        });\n    };\n    RpcProvider.prototype.waitForTransaction = function (txHash, retryInterval) {\n        if (retryInterval === void 0) { retryInterval = 8000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var retries, onchain, successStates, errorStates, res, message, error, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        retries = this.retries;\n                        onchain = false;\n                        _a.label = 1;\n                    case 1:\n                        if (!!onchain) return [3 /*break*/, 7];\n                        successStates = ['ACCEPTED_ON_L1', 'ACCEPTED_ON_L2', 'PENDING'];\n                        errorStates = ['REJECTED', 'NOT_RECEIVED'];\n                        // eslint-disable-next-line no-await-in-loop\n                        return [4 /*yield*/, (0, provider_1.wait)(retryInterval)];\n                    case 2:\n                        // eslint-disable-next-line no-await-in-loop\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, this.getTransactionReceipt(txHash)];\n                    case 4:\n                        res = _a.sent();\n                        if (res.status && successStates.includes(res.status)) {\n                            onchain = true;\n                        }\n                        else if (res.status && errorStates.includes(res.status)) {\n                            message = res.status;\n                            error = new Error(message);\n                            error.response = res;\n                            throw error;\n                        }\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_2 = _a.sent();\n                        if (error_2 instanceof Error && errorStates.includes(error_2.message)) {\n                            throw error_2;\n                        }\n                        if (retries === 0) {\n                            throw new Error('waitForTransaction timedout with retries');\n                        }\n                        return [3 /*break*/, 6];\n                    case 6:\n                        retries -= 1;\n                        return [3 /*break*/, 1];\n                    case 7: return [4 /*yield*/, (0, provider_1.wait)(retryInterval)];\n                    case 8:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Gets the transaction count from a block.\n     *\n     *\n     * @param blockIdentifier\n     * @returns Number of transactions\n     */\n    RpcProvider.prototype.getTransactionCount = function (blockIdentifier) {\n        return __awaiter(this, void 0, void 0, function () {\n            var block_id;\n            return __generator(this, function (_a) {\n                block_id = new utils_1.Block(blockIdentifier).identifier;\n                return [2 /*return*/, this.fetchEndpoint('starknet_getBlockTransactionCount', { block_id: block_id })];\n            });\n        });\n    };\n    /**\n     * Gets the latest block number\n     *\n     *\n     * @returns Number of the latest block\n     */\n    RpcProvider.prototype.getBlockNumber = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_blockNumber')];\n            });\n        });\n    };\n    /**\n     * Gets syncing status of the node\n     *\n     *\n     * @returns Object with the stats data\n     */\n    RpcProvider.prototype.getSyncingStats = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_syncing')];\n            });\n        });\n    };\n    /**\n     * Gets all the events filtered\n     *\n     *\n     * @returns events and the pagination of the events\n     */\n    RpcProvider.prototype.getEvents = function (eventFilter) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.fetchEndpoint('starknet_getEvents', { filter: eventFilter })];\n            });\n        });\n    };\n    return RpcProvider;\n}());\nexports.RpcProvider = RpcProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}